# H??ng d?n s? d?ng tính n?ng S? ?? phòng h?c

## T?ng quan
Tính n?ng s? ?? phòng h?c cho phép ng??i dùng ch?n ??a ?i?m m?t cách tr?c quan thông qua giao di?n s? ??, thay vì ph?i nh?p tay tên phòng. H? th?ng s? t? ??ng ki?m tra và hi?n th? các phòng ?ã ???c ??t.

## Các dãy nhà có s?n

### 1. Dãy DN (Dãy nhà DN)
- **S? t?ng**: 5 t?ng
- **S? phòng m?i t?ng**: 5 phòng (101-105, 201-205, 301-305, 401-405, 501-505)
- **??nh d?ng**: DN.101, DN.202, DN.303...

### 2. Dãy E3, E4, E5, E6 ? M?I
- **S? t?ng**: 1 t?ng (ch? có t?ng tr?t)
- **S? phòng**: 6 phòng (01-06)
- **??nh d?ng**: E3.01, E4.02, E5.03...

### 3. Dãy C2
- **S? t?ng**: 5 t?ng
- **S? phòng m?i t?ng**: 5 phòng (101-105, 201-205, 301-305, 401-405, 501-505)
- **??nh d?ng**: C2.101, C2.202, C2.303...

## Cách s? d?ng ? C?P NH?T

### B??c 0: Nh?p th?i gian trong form s? ki?n
- **QUAN TR?NG**: Ph?i nh?p gi? b?t ??u và gi? k?t thúc tr??c khi m? s? ?? phòng
- N?u ch?a nh?p ?? thông tin, h? th?ng s? yêu c?u nh?p

### B??c 1: Ch?n th?i gian
- **Ch?n ngày**: S? d?ng DatePicker
- **Gi? b?t ??u**: Nh?p theo format HH:mm (VD: 08:00)
- **Gi? k?t thúc**: Nh?p theo format HH:mm (VD: 10:00)
- Click nút **? Áp d?ng** ?? xác nh?n th?i gian
- H? th?ng s? ki?m tra:
  - ? Format th?i gian h?p l?
  - ? Gi? k?t thúc > Gi? b?t ??u

### B??c 2: Ch?n dãy nhà
- Click vào m?t trong các nút dãy nhà: DN, E3, E4, E5, E6, C2
- Nút ???c ch?n s? có màu xanh d??ng
- **L?u ý**: Ph?i ch?n th?i gian tr??c khi ch?n dãy nhà

### B??c 3: Ch?n t?ng
- Sau khi ch?n dãy nhà, các nút t?ng s? xu?t hi?n
- **Dãy DN, C2**: T?ng 1 - T?ng 5
- **Dãy E3-E6**: Ch? có 1 t?ng (t? ??ng ch?n)
- Click vào t?ng mong mu?n
- Nút t?ng ???c ch?n s? có màu xanh d??ng

### B??c 4: Ch?n phòng ?? M?I
Danh sách phòng h?c s? hi?n th? v?i 3 tr?ng thái:

#### ?? Màu Tr?ng - Có th? ??t
- Phòng tr?ng, ch?a có ai ??t trong khung gi? ?ã ch?n
- Click ?? ch?n phòng
- Sau khi ch?n s? chuy?n sang màu xanh lá

#### ?? Màu Xanh Lá - ?ã ch?n
- Phòng b?n ?ang ch?n
- Click phòng khác ?? thay ??i

#### ?? Màu Xám ??m - ?ã ???c ??t
- Phòng ?ã có ng??i ??t trong khung gi? này
- **KHÔNG TH? CH?N** (con tr? chu?t s? hi?n d?u c?m ?)
- Hover chu?t ?? xem thông tin: "? ?ã ???c ??t trong khung gi? này"

### B??c 5: Xác nh?n
- Ki?m tra thông tin:
  - **Th?i gian**: Hi?n th? ? góc d??i bên trái (màu xanh d??ng)
  - **Phòng**: Hi?n th? ? góc d??i bên ph?i (màu xanh lá)
- Click nút **Xác nh?n** ?? hoàn t?t
- Thông tin s? ???c ?i?n t? ??ng vào form s? ki?n

## Tính n?ng ki?m tra trùng l?ch ?? C?P NH?T

### Ki?m tra t? ??ng theo th?i gian th?c
Khi ch?n th?i gian và m? s? ?? phòng, h? th?ng s?:
1. ? Quét t?t c? s? ki?n trong cùng ngày
2. ? So sánh th?i gian v?i khung gi? b?n ch?n
3. ? ?ánh d?u các phòng ?ã ???c ??t (màu xám)
4. ? Ch? cho phép ch?n phòng còn tr?ng

### Logic ki?m tra trùng
Phòng b? coi là **trùng l?ch** n?u:
- ? Cùng ngày
- ? Cùng phòng
- ? Th?i gian overlap (trùng m?t ph?n ho?c toàn b?):
  - Th?i gian m?i b?t ??u trong kho?ng th?i gian c?
  - Th?i gian m?i k?t thúc trong kho?ng th?i gian c?
  - Th?i gian m?i bao ph? hoàn toàn th?i gian c?

### Ví d? v? trùng l?ch

#### ? Trùng l?ch (KHÔNG cho phép):
```
S? ki?n A: 08:00 - 10:00 (DN.101)
S? ki?n B: 09:00 - 11:00 (DN.101) ? TRÙNG
S? ki?n C: 07:30 - 08:30 (DN.101) ? TRÙNG
S? ki?n D: 08:30 - 09:30 (DN.101) ? TRÙNG
```

#### ? Không trùng (Cho phép):
```
S? ki?n A: 08:00 - 10:00 (DN.101)
S? ki?n E: 10:00 - 12:00 (DN.101) ? OK (gi? k?t thúc = gi? b?t ??u)
S? ki?n F: 06:00 - 08:00 (DN.101) ? OK
S? ki?n G: 08:00 - 10:00 (DN.102) ? OK (khác phòng)
```

## L?u ý quan tr?ng ??

### V? th?i gian:
- ? **B?T BU?C** nh?p th?i gian tr??c khi ch?n phòng
- Format chu?n: **HH:mm** (VD: 08:00, 14:30)
- Gi? k?t thúc ph?i l?n h?n gi? b?t ??u
- N?u ??i th?i gian, ph?i click "Áp d?ng" l?i

### V? phòng:
- Phòng màu **xám** = **KHÔNG TH? ??t**
- Phòng màu **tr?ng** = Có th? ??t
- Phòng màu **xanh lá** = ?ã ch?n
- Hover chu?t lên phòng ?? xem tr?ng thái chi ti?t

### V? dãy E:
- Dãy E3, E4, E5, E6 ch? có **1 t?ng** (t?ng tr?t)
- Format phòng: E3.01, E3.02... (không có s? t?ng)

## Quy trình ??t phòng hoàn ch?nh

```
1. M? form "Thêm/S?a s? ki?n"
2. Nh?p tên s? ki?n
3. Ch?n ngày
4. Nh?p gi? b?t ??u và gi? k?t thúc
5. Click nút "?? Ch?n" bên c?nh "??a ?i?m"
6. Form s? ?? phòng xu?t hi?n
7. [TRONG FORM S? ??]
   - Ki?m tra/?i?u ch?nh th?i gian
   - Click "? Áp d?ng"
   - Ch?n dãy nhà
   - Ch?n t?ng (n?u có)
   - Ch?n phòng tr?ng (màu tr?ng)
   - Click "Xác nh?n"
8. ??a ?i?m ???c ?i?n t? ??ng
9. Ti?p t?c nh?p thông tin khác
10. Click "L?u"
```

## Ví d? s? d?ng

### Ví d? 1: ??t phòng h?p dãy DN
1. Nh?p: Ngày 28/11/2025, 14:00-16:00
2. Click "?? Ch?n"
3. Click "? Áp d?ng" (xác nh?n th?i gian)
4. Ch?n dãy **DN**
5. Ch?n **T?ng 1**
6. Các phòng hi?n th?:
   - DN.101: **Tr?ng** ? (có th? ??t)
   - DN.102: **Xám** ? (?ã có ng??i ??t 13:00-15:00)
   - DN.103: **Tr?ng** ? (có th? ??t)
7. Click phòng **101**
8. Click **Xác nh?n**
9. K?t qu?: DN.101

### Ví d? 2: ??t phòng h?c dãy E
1. Nh?p: Ngày 29/11/2025, 08:00-10:00
2. Click "?? Ch?n"
3. Click "? Áp d?ng"
4. Ch?n dãy **E3**
5. T?ng t? ??ng là **T?ng 1**
6. Các phòng hi?n th?:
   - E3.01: **Xám** ? (?ã ??t 07:00-09:00)
   - E3.02: **Tr?ng** ? (có th? ??t)
   - E3.03: **Tr?ng** ? (có th? ??t)
7. Click phòng **02**
8. Click **Xác nh?n**
9. K?t qu?: E3.02

### Ví d? 3: Thay ??i th?i gian và xem phòng khác
1. ?ang ch?n: 14:00-16:00
2. Th?y phòng mong mu?n b? **xám**
3. Th? ??i th?i gian: 16:00-18:00
4. Click "? Áp d?ng"
5. Phòng ?ó chuy?n sang **tr?ng** (có th? ??t)
6. Click ch?n phòng
7. Click **Xác nh?n**

## X? lý l?i th??ng g?p

### ? "Vui lòng ch?n th?i gian tr??c!"
- **Nguyên nhân**: Ch?a nh?p gi? b?t ??u/k?t thúc ho?c ch?a click "Áp d?ng"
- **Gi?i pháp**: Nh?p ?? th?i gian và click nút "? Áp d?ng"

### ? "Gi? k?t thúc ph?i sau gi? b?t ??u!"
- **Nguyên nhân**: Gi? k?t thúc <= gi? b?t ??u
- **Gi?i pháp**: ?i?u ch?nh l?i th?i gian cho h?p lý

### ? Không click ???c vào phòng
- **Nguyên nhân**: Phòng màu xám = ?ã ???c ??t
- **Gi?i pháp**: 
  - Ch?n phòng khác (màu tr?ng)
  - Ho?c ??i khung gi? khác

### ? "Th?i gian không h?p l?!"
- **Nguyên nhân**: Sai format HH:mm
- **Gi?i pháp**: Nh?p ?úng format, VD: 08:00, 14:30

## Tùy ch?nh cho Admin

### Thêm dãy nhà m?i
S?a file `RoomSelectionForm.cs`, thêm vào dictionary `buildings`:
```csharp
{ "E7", new BuildingInfo { 
    Name = "Dãy E7", 
    Floors = 1, // 1 t?ng
    RoomsPerFloor = new int[] { 6 } // 6 phòng
}}
```

### Thay ??i s? phòng dãy E
```csharp
{ "E3", new BuildingInfo { 
    Name = "Dãy E3", 
    Floors = 1, 
    RoomsPerFloor = new int[] { 8 } // T?ng lên 8 phòng
}}
```

### Thêm t?ng cho dãy E (n?u c?n)
```csharp
{ "E3", new BuildingInfo { 
    Name = "Dãy E3", 
    Floors = 2, // Thêm t?ng 2
    RoomsPerFloor = new int[] { 6, 6 } // 6 phòng m?i t?ng
}}
```

## Màu s?c h? th?ng

| Màu | Ý ngh?a | Tr?ng thái |
|-----|---------|------------|
| ?? Xanh d??ng | ?ang ch?n | Dãy nhà/t?ng ???c ch?n |
| ?? Xanh lá | ?ã ch?n | Phòng ?ã ch?n cu?i cùng |
| ? Tr?ng | Có th? ch?n | Phòng tr?ng, ch?a ??t |
| ? Xám ??m | Không th? ch?n | Phòng ?ã ???c ??t |

## H? tr?
- **L?i k? thu?t**: Báo cho team phát tri?n
- **Câu h?i s? d?ng**: Xem l?i h??ng d?n này
- **Góp ý tính n?ng**: G?i feedback qua GitHub Issues

---

**Phiên b?n**: 2.0  
**C?p nh?t**: 23/12/2025  
**Thay ??i chính**:
- ? Dãy E ch? còn 1 t?ng
- ?? Ch?n th?i gian tr??c khi ch?n phòng
- ?? Phòng ?ã ??t hi?n màu xám, không th? ch?n
- ?? Ki?m tra trùng l?ch theo th?i gian th?c
